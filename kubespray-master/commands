vagrant up

vagrant provision

vagrant destroy



cp -rfp inventory/sample inventory/mycluster 

declare -a IPS=(192.168.56.121 192.168.56.122 192.168.56.123 192.168.56.124 192.168.56.125)


CONFIG_FILE=inventory/mycluster/hosts.yml python3 contrib/inventory_builder/inventory.py ${IPS[@]}


vi inventory/mycluster/hosts.yml


vi inventory/mycluster/group_vars/k8s-cluster/k8s-cluster.yml

vi inventory/mycluster/group_vars/k8s_cluster/addons.yml

vi inventory/mycluster/group_vars/k8s_cluster/k8s-cluster.yml

nano inventory/mycluster/group_vars/k8s_cluster/k8s-cluster.yml


ansible-playbook -i inventory/mycluster/hosts.yml --become --become-user=root cluster.yml


ansible-playbook -i inventory/mycluster/hosts.yaml  --become --become-user=root scale.yml

ansible-playbook -i inventory/mycluster/hosts.yaml  --become --become-user=root reset.yml


sudo su -

kubectl get pod --all-namespaces -o wide
kubectl describe pod nginx-proxy-k8s-3 -n kube-system

kubectl get nodes
kubectl describe node k8s-1

kubectl get pods --all-namespaces | grep prometheus
helm install prometheus stable/prometheus --namespace prometheus --set alertmanager.persistentVolume.storageClass="gp2",server.persistentVolume.storageClass="gp2"

#gets you: "nodeName namespace pod" across the cluster
kubectl get pods --all-namespaces --output 'jsonpath={range .items[*]}{.spec.nodeName}{" "}{.metadata.namespace}{" "}{.metadata.name}{"\n"}{end}'


helm repo add prometheus-community https://prometheus-community.github.io/helm-charts


kubectl get pv
kubectl get pvc --all-namespaces
kubectl get storageclasses